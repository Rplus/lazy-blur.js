/*!
 * lazy-blur.js 0.1.5 - Progressive image loader with SVG blur effect
 * Copyright (c) 2016 Rplus - https://github.com/Rplus/lazy-blur.js
 * License: MIT
 */
"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var _extends=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},LazyBlur=function e(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(_classCallCheck(this,e),n.imgSQuery=n.imgSQuery||".lazy-blur__imgS",n=_extends({imgLClass:"lazy-blur__imgL",filterSelector:"html.svg *:not(.done) > "+n.imgSQuery,getImgLSrc:function(e){return e.getAttribute("data-src")},onLoad:function(e){e.parentElement.className+=" done "},blurSize:20,scrollThreshold:50,eventType:"scroll"},n),n.imgs=[].slice.call(document.querySelectorAll(n.imgSQuery)),n.imgs.length){"function"!=typeof n.onLoad&&(n.onLoad=!1);var t='\n    <svg xmlns="http://www.w3.org/2000/svg" style="position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0, 0, 0, 0); border: 0;">\n      <def>\n        <filter id="lazy-blur-filter">\n          <feGaussianBlur stdDeviation="'+n.blurSize+'"></feGaussianBlur>\n        </filter>\n      </def>\n    </svg>\n    <style>\n      '+n.filterSelector+' {\n        -webkit-filter: url("#lazy-blur-filter");\n                filter: url("#lazy-blur-filter");\n      }\n    </style>';document.body.appendChild(function(){var e=document.createElement("div");return e.innerHTML=t,e}());var i=function(e){var t=new Image;n.onLoad&&(t.onload=function(){n.onLoad(e)}),t.className=n.imgLClass,t.src=n.getImgLSrc(e),e.parentNode.insertBefore(t,e.nextSibling)};"click"===n.eventType||"mouseenter"===n.eventType?n.imgs.map(function(e){e.addEventListener(n.eventType,function(){return i(e)})}):"scroll"===n.eventType&&!function(){var e=function(){(!n.imgsWithPos||n.imgsWithPos.length)&&(n.imgsWithPos=n.imgs.map(function(e){var n=e.getBoundingClientRect(),t=window.pageYOffset;return{imgEl:e,top:n.top+t,bottom:n.bottom+t}}))},t=function(){if(n.imgsWithPos.length){var e=window.pageYOffset,t=e-n.scrollThreshold,r=e+window.innerHeight+n.scrollThreshold;n.imgsWithPos=n.imgsWithPos.filter(function(e,n){var o=e.bottom<r&&e.bottom>t||e.top>t&&e.top<r;return o&&i(e.imgEl),!o})}};e(),t(),window.addEventListener("scroll",function(){t()}),window.addEventListener("resize",function(){e(),t()})}()}};
//# sourceMappingURL=maps/lazy-blur.min.js.map
